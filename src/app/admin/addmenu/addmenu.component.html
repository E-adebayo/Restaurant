<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <h1 class="form-title">Nouveau Menu</h1>
            <p class="form-subtitle">Ajoutez un nouveau menu à votre carte</p>
        </div>
        
        <div class="form-body">
            <form [formGroup]="addmenuForm" (ngSubmit)="addMenu()" novalidate>
                <div class="form-group">
                    <label class="form-label" for="nom">
                        Nom du menu
                    </label>
                    <div class="input-container">
                        <i class="fas fa-utensils input-icon"></i>
                        <input class="form-input" [class.error]="addmenuForm.get('nom')?.invalid && addmenuForm.get('nom')?.touched"
                               id="nom" type="text" placeholder="ex: Menu Découverte" formControlName="nom"/>
                    </div>
                    <div class="form-error" *ngIf="addmenuForm.get('nom')?.invalid && addmenuForm.get('nom')?.touched" role="alert">
                        <i class="fas fa-exclamation-circle"></i>
                        {{ getErrorMessage('nom') }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="description">
                        Description
                    </label>
                    <div class="input-container">
                        <i class="fas fa-align-left input-icon"></i>
                        <input class="form-input" [class.error]="addmenuForm.get('description')?.invalid && addmenuForm.get('description')?.touched"
                               id="description" type="text" placeholder="Décrivez le contenu du menu" formControlName="description"/>
                    </div>
                    <div class="form-error" *ngIf="addmenuForm.get('description')?.invalid && addmenuForm.get('description')?.touched" role="alert">
                        <i class="fas fa-exclamation-circle"></i>
                        {{ getErrorMessage('description') }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="prix">
                        Prix
                    </label>
                    <div class="input-container">
                        <i class="fas fa-euro-sign input-icon"></i>
                        <input class="form-input" [class.error]="addmenuForm.get('prix')?.invalid && addmenuForm.get('prix')?.touched"
                               id="prix" type="text" placeholder="0.00" formControlName="prix"
                               (input)="onPriceInput($event)"/>
                    </div>
                    <div class="form-error" *ngIf="addmenuForm.get('prix')?.invalid && addmenuForm.get('prix')?.touched" role="alert">
                        <i class="fas fa-exclamation-circle"></i>
                        {{ getErrorMessage('prix') }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        Image du menu
                    </label>
                    <div class="file-input-container">
                        <label class="file-input-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            Choisir une image
                            <input type="file" accept=".jpeg,.jpg,.png"
                                   (change)="onFileSelected($event)"
                                   style="display: none;"/>
                        </label>
                    </div>
                    <div class="file-preview" *ngIf="imagePreview">
                        <img [src]="imagePreview" alt="Aperçu du menu"/>
                    </div>
                </div>

                <button type="submit" class="form-submit-btn" [disabled]="addmenuForm.invalid || isSubmitting">
                    <i class="fas" [class.fa-spinner]="isSubmitting" [class.fa-spin]="isSubmitting" 
                       [class.fa-plus-circle]="!isSubmitting"></i>
                    <span>{{ isSubmitting ? 'Ajout en cours...' : 'Ajouter le menu' }}</span>
                </button>
            </form>
        </div>
    </div>
</div>